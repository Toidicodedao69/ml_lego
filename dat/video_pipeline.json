{
    "#": "Test Pipeline",
    "#": "PAYLOAD='(process_frame (stream_id: 0 frame_id: 0) (a: 0))'",
    "#": "mosquitto_pub -h $HOST -t $TOPIC -m $PAYLOAD",
  
    "version": 0,
    "name":    "p_video",
    "runtime": "python",
  
    "graph": [
      "(PE_GetVideo PE_ModelInference PE_SaveVideo PE_DisplayVideo)"
    ],
  
    "parameters": {
    },
  
    "elements": [
      { "name":   "PE_GetVideo",
        "input":  [{ "name": "file_path", "type": "str" }],
        "output":  [{ "name": "video_frames", "type": "list" },
                    { "name": "WIDTH", "type": "int" },
                    { "name": "HEIGHT", "type": "int" },
                    { "name": "OUTPUT_PATH", "type": "str" },
                    { "name": "FPS", "type": "int" }],
        "deploy": {
          "local": { "module": "video_pipeline" }
        }
      },
      { "name":   "PE_ModelInference",
      "input":  [{ "name": "video_frames", "type": "list" },
                 { "name": "WIDTH", "type": "int" },
                 { "name": "HEIGHT", "type": "int" },
                 { "name": "OUTPUT_PATH", "type": "str" },
                 { "name": "FPS", "type": "int" }],
                
      "output":  [{ "name": "video_frames", "type": "list" },
                 { "name": "WIDTH", "type": "int" },
                 { "name": "HEIGHT", "type": "int" },
                 { "name": "OUTPUT_PATH", "type": "str" },
                 { "name": "FPS", "type": "int" }],
      "deploy": {
        "local": { "module": "video_pipeline" }
       }
      },
      { "name":   "PE_SaveVideo",
      "input":  [{ "name": "video_frames", "type": "list" },
                 { "name": "WIDTH", "type": "int" },
                 { "name": "HEIGHT", "type": "int" },
                 { "name": "OUTPUT_PATH", "type": "str" },
                 { "name": "FPS", "type": "int" }],
                
      "output":  [{ "name": "OUTPUT_PATH", "type": "str" }],
      "deploy": {
        "local": { "module": "video_pipeline" }
        }
      },
      { "name":   "PE_DisplayVideo",
      "input":  [{ "name": "OUTPUT_PATH", "type": "str" }],
                
      "output":  [{ "name": "OUTPUT_PATH", "type": "str" }],
      "deploy": {
        "local": { "module": "video_pipeline" }
        }
      }
    ]
  }